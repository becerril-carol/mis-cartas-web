<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Sistema de Reconocimiento Laboral</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #e9ecef; display: flex; justify-content: center; padding: 40px; }
        .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 480px; }
        h2 { color: #333; text-align: center; }
        label { font-weight: bold; display: block; margin-top: 15px; color: #555; font-size: 0.9rem; }
        input, select, textarea { width: 100%; margin-top: 5px; padding: 10px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 8px; }
        .row { display: flex; gap: 10px; }
        .btn-submit { width: 100%; padding: 15px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; margin-top: 25px; font-weight: bold; }
        .btn-submit:hover { background: #218838; }

        /* Estilo para la nueva secci√≥n de frase */
        .frase-container { display: flex; gap: 10px; align-items: flex-start; margin-top: 5px; }
        .btn-refresh { 
            background: #6c757d; color: white; border: none; padding: 10px; 
            border-radius: 8px; cursor: pointer; height: 42px; width: 50px;
            display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
            transition: 0.3s;
        }
        .btn-refresh:hover { background: #5a6268; }
        #frase_display { background: #f8f9fa; font-style: italic; color: #444; border: 1px dashed #ccc; }
    </style>
</head>
<body>
    <div class="card">
        <h2>üèÜ Nuevo Reconocimiento</h2>
        <form action="/generar" method="POST">
            <label>Nombre del Empleado:</label>
            <input type="text" name="nombre" required>
            
            <label>Puesto:</label>
            <input type="text" name="puesto" required>
            
            <label>Motivo del Reconocimiento:</label>
            <textarea name="motivo" required></textarea>
            
            <div class="row">
                <div style="flex: 1;">
                    <label>Fecha:</label>
                    <input type="date" name="fecha" required>
                </div>
                <div style="flex: 1;">
                    <label>Estructura:</label>
                    <select name="estilo">
                        <option value="formal">Cl√°sico Formal</option>
                        <option value="moderno">Moderno Redondeado</option>
                        <option value="minimalista">Minimalista</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div style="flex: 1;">
                    <label>Color de Fondo:</label>
                    <input type="color" name="color_fondo" value="#ffffff">
                </div>
                <div style="flex: 1;">
                    <label>Color de Texto:</label>
                    <input type="color" name="color_texto" value="#1a2a6c">
                </div>
            </div>

            <label>Frase Motivacional Sugerida:</label>
            <div class="frase-container">
                <textarea id="frase_display" name="frase" readonly required>Cargando frase...</textarea>
                <button type="button" class="btn-refresh" onclick="cargarNuevaFrase()" title="Cambiar frase">üîÑ</button>
            </div>
            
            <button type="submit" class="btn-submit">Generar y Guardar</button>
        </form>
    </div>

    <script>
        function cargarNuevaFrase() {
            fetch('/nueva_frase')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('frase_display').value = data;
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('frase_display').value = "¬°Gracias por tu gran esfuerzo diario!";
                });
        }

        // Carga una frase apenas abre la p√°gina
        window.onload = cargarNuevaFrase;
    </script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script>
    const form = document.querySelector('form');
    form.addEventListener('submit', () => {
        confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 }
        });
    });
</script>
</body>
</html>